<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>캘린더</title>
        <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/4_calendarpage.css" />
  </head>
  <body>
    <div class="container">
      <!-- Main View -->
      <div id="mainView">
        <!-- Download Button -->
        <button class="download-button" onclick="handleDownload()">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
            <rect width="24" height="24" fill="white" />
            <path
              d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15M7 10L12 15M12 15L17 10M12 15V3"
              stroke="#828282"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </button>

        <!-- Month Selector -->
        <div class="month-selector">
          <button
            class="month-button"
            id="monthButton"
            onclick="toggleDropdown()"
          >
            <span class="month-text" id="monthText"></span>
            <svg width="15" height="7" viewBox="0 0 15 7" fill="none">
              <path
                d="M1 1L7.5 6L14 1"
                stroke="#828282"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>

          <div
            class="dropdown-backdrop"
            id="dropdownBackdrop"
            onclick="closeDropdown()"
          ></div>
          <div class="month-dropdown" id="monthDropdown">
            <!-- Dropdown items will be populated by JavaScript -->
          </div>
        </div>

        <!-- Calendar -->
        <div class="calendar">
          <!-- Weekdays -->
          <div class="calendar-weekdays">
            <div class="weekday sunday">일</div>
            <div class="weekday">월</div>
            <div class="weekday">화</div>
            <div class="weekday">수</div>
            <div class="weekday">목</div>
            <div class="weekday">금</div>
            <div class="weekday saturday">토</div>
          </div>

          <!-- Calendar Grid -->
          <div class="calendar-grid" id="calendarGrid">
            <!-- Days will be populated by JavaScript -->
          </div>
        </div>
      </div>

      <!-- Edit Mode -->
      <div id="editView" class="edit-mode">
        <div class="edit-header">
          <button class="back-button" onclick="handleBackFromEdit()">
            <svg width="14" height="14" viewBox="0 0 14 14" fill="none">
              <path
                d="M13 7H1M1 7L7 1M1 7L7 13"
                stroke="black"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <p class="edit-title" id="editDateTitle">11.10 (월)</p>
          <div style="width: 24px"></div>
        </div>

        <div class="edit-form">
          <div class="form-group">
            <label class="form-label">근무 (휴가)</label>
            <select
              class="form-select"
              id="vacationType"
              onchange="handleVacationTypeChange()"
            >
      <option value="0">출근</option>
      <option value="1">휴가</option>
      <option value="2">반차</option>
      <option value="3">대휴</option>
            </select>
          </div>

          <div class="form-group" id="startTimeGroup">
            <label class="form-label">시작 시간</label>
            <input
              type="time"
              class="form-input"
              id="startTime"
              value="09:00"
            />
          </div>

          <div class="form-group" id="endTimeGroup">
            <label class="form-label">종료 시간</label>
            <input type="time" class="form-input" id="endTime" value="15:30" />
          </div>

          <div class="form-group" id="breakTimeGroup">
            <label class="form-label">휴게 시간 (분)</label>
            <input type="number" class="form-input" id="breakTime" value="60" />
          </div>

          <div class="form-group">
            <label class="form-label">메모</label>
            <textarea
              class="form-textarea"
              id="memo"
              placeholder="메모를 입력하세요"
            >
병원 예약 때문에 일찍 퇴근함</textarea
            >
          </div>

          <button class="save-button" onclick="handleSave()">저장하기</button>
        </div>
      </div>

      <!-- Details Panel -->
      <div id="detailsPanel" class="details-panel">
        <div class="panel-header">
          <div class="panel-date-nav">
            <button class="panel-nav-button" onclick="handlePrevDate()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path
                  d="M15 18L9 12L15 6"
                  stroke="#000"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
            <div style="text-align: center">
              <p class="panel-date-title" id="panelDateTitle">11.10 (월)</p>
              <span class="panel-work-hours" id="panelWorkHours">5H 30M</span>
            </div>
            <button class="panel-nav-button" onclick="handleNextDate()">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                <path
                  d="M9 18L15 12L9 6"
                  stroke="#000"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </button>
          </div>
          <button class="close-button" onclick="closePanel()">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
              <path
                d="M18 6L6 18M6 6L18 18"
                stroke="#828282"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
        </div>

        <div class="panel-content">
          <div class="info-grid">
            <div class="info-item">
              <div class="info-label"></div>
              <div class="info-value" id="workTimeValue"></div>
            </div>
            <div class="info-item">
              <div class="info-label"></div>
              <div class="info-value" id="breakTimeValue"></div>
            </div>
            <div class="info-item full-width">
              <div class="info-label"></div>
              <div class="info-value" id="memoValue"></div>
            </div>
          </div>

          <button class="edit-button" onclick="handleEdit()">수정하기</button>
        </div>
      </div>
    </div>

  <div class="nav-container">
          <div class="nav-wrapper">
            <div class="nav-bg-left"></div>
            <div class="nav-bg-center"></div>
            <div class="nav-bg-right"></div>

            <!-- Calendar Icon Button -->
            <div class="calendar-icon-button active" data-nav="calendar">
              <svg fill="none" viewBox="0 0 23 24" preserveAspectRatio="none">
                <path
                  d="M6.41745 0C5.71333 0 5.14187 0.565895 5.14187 1.26316C2.32156 1.26316 0 3.528 0 6.31579V8.8421L0.0395505 18.9474C0.0395505 21.7339 2.32412 24 5.14187 24H17.8977C20.7154 24 23 21.7377 23 18.9474L22.9604 8.8421V6.31579C22.9604 3.52295 20.7129 1.26316 17.8977 1.26316C17.8977 0.565895 15.3465 0 14.6221 0C13.918 0 13.3465 0.565895 13.3465 1.26316H7.69303C7.69303 0.565895 7.12285 0 6.41745 0ZM5.14187 3.78947C5.14187 4.48674 5.71333 5.05263 6.41745 5.05263C7.12285 5.05263 7.69303 4.48674 7.69303 3.78947H15.3465C15.3465 4.48674 15.918 5.05263 16.6221 5.05263C17.3275 5.05263 17.8977 4.48674 17.8977 3.78947C19.297 3.78947 20.4093 4.91116 20.4093 6.31579V7.57895C17.9551 7.57895 5.00538 7.57895 2.55116 7.57895V6.31579C2.55116 4.93011 3.72343 3.78947 5.14187 3.78947ZM2.55116 10.1053C5.00538 10.1053 17.9551 10.1053 20.4093 10.1053L20.4488 18.9474C20.4488 20.3381 19.3072 21.4737 17.8977 21.4737H5.14187C3.73363 21.4737 2.59071 20.3432 2.59071 18.9474L2.55116 10.1053Z"
                />
              </svg>
            </div>

            <!-- Profile Icon Button -->
            <div class="profile-icon-button" data-nav="profile">
              <svg fill="none" viewBox="0 0 27 24" preserveAspectRatio="none">
                <path
                  d="M18.225 0C14.8698 0 12.15 2.68667 12.15 6C12.15 9.31333 14.8698 12 18.225 12C21.5802 12 24.3 9.31333 24.3 6C24.3 2.68667 21.5802 0 18.225 0ZM8.1 1.33333C5.11772 1.33333 2.7 3.72133 2.7 6.66667C2.7 9.612 5.11772 12 8.1 12C9.21969 12 10.2803 11.6627 11.1796 11.0413C11.7908 10.62 11.9443 9.77067 11.5171 9.16667C11.09 8.56267 10.272 8.45334 9.66087 8.87467C9.21146 9.18534 8.66187 9.33333 8.1 9.33333C6.60879 9.33333 5.4 8.14 5.4 6.66667C5.4 5.19333 6.60879 4 8.1 4C8.54037 4 8.94321 4.09599 9.32337 4.29199C9.98487 4.63199 10.8356 4.40268 11.1796 3.74935C11.5237 3.09735 11.2505 2.25598 10.5891 1.91732C9.82624 1.52532 8.97669 1.33333 8.1 1.33333ZM18.225 2.66667C20.0889 2.66667 21.6 4.15867 21.6 6C21.6 7.84133 20.0889 9.33333 18.225 9.33333C16.3611 9.33333 14.85 7.84133 14.85 6C14.85 4.15867 16.3611 2.66667 18.225 2.66667ZM4.13438 13.792C1.65834 14.8013 0 17.2747 0 20V22.6667C0 23.4027 0.604395 24 1.35 24H6.75C7.49561 24 8.1 23.4027 8.1 22.6667C8.1 21.9307 7.49561 21.3333 6.75 21.3333H2.7V20C2.7 18.5013 3.60004 17.1254 4.63455 16.52C5.60749 16.9254 6.63674 17.232 7.55204 17.308C8.29508 17.3707 8.96508 16.8173 9.02813 16.0827C9.09117 15.3493 8.55428 14.728 7.81137 14.6654C7.21872 14.616 6.57099 14.44 5.82188 14.1253C5.64098 14.0493 5.53594 13.9893 5.18913 13.8333C4.84906 13.68 4.47971 13.6507 4.13438 13.792ZM13.5844 13.792C11.1083 14.8013 9.45 17.2747 9.45 20V22.6667C9.45 23.4027 10.0544 24 10.8 24H25.65C26.3956 24 27 23.4027 27 22.6667V20C27 17.3387 25.3325 14.9253 22.8656 13.8747C22.5184 13.7267 22.1138 13.7227 21.7688 13.8747C20.5743 14.404 19.4106 14.6667 18.225 14.6667C17.0435 14.6667 15.8757 14.3893 14.6391 13.8333C14.2991 13.68 13.9297 13.6507 13.5844 13.792ZM14.1034 16.52C15.3789 16.9974 16.9167 17.3333 18.225 17.3333C19.523 17.3333 20.9972 17.02 22.2469 16.564C23.4654 17.2493 24.3 18.532 24.3 20V21.3333H12.15V20C12.15 18.4467 13.0355 17.1374 14.1034 16.52Z"
                />
              </svg>
            </div>

            <!-- Main Button (Center Circle) -->
            <div class="main-button-wrapper active" data-nav="main">
              <div class="main-button-circle-wrapper">
                <svg
                  fill="none"
                  viewBox="0 0 112 112"
                  preserveAspectRatio="none"
                >
                  <defs>
                    <filter
                      id="filter0_d_1_29"
                      x="0"
                      y="0"
                      width="112"
                      height="112"
                      filterUnits="userSpaceOnUse"
                      color-interpolation-filters="sRGB"
                    >
                      <feFlood flood-opacity="0" result="BackgroundImageFix" />
                      <feColorMatrix
                        in="SourceAlpha"
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        result="hardAlpha"
                      />
                      <feMorphology
                        radius="1"
                        operator="dilate"
                        in="SourceAlpha"
                        result="effect1_dropShadow_1_29"
                      />
                      <feOffset />
                      <feGaussianBlur stdDeviation="10" />
                      <feComposite in2="hardAlpha" operator="out" />
                      <feColorMatrix
                        type="matrix"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"
                      />
                      <feBlend
                        mode="normal"
                        in2="BackgroundImageFix"
                        result="effect1_dropShadow_1_29"
                      />
                      <feBlend
                        mode="normal"
                        in="SourceGraphic"
                        in2="effect1_dropShadow_1_29"
                        result="shape"
                      />
                    </filter>
                  </defs>
                  <g filter="url(#filter0_d_1_29)">
                    <circle cx="56" cy="56" r="35" id="mainCircle" />
                  </g>
                </svg>
              </div>
            </div>

            <!-- Main Icon -->
            <div class="main-icon-wrapper">
              <svg fill="none" viewBox="0 0 26 24" preserveAspectRatio="none">
                <path
                  d="M11.7 0C8.82817 0 6.5 2.388 6.5 5.33333H5.2C2.32817 5.33333 0 7.72133 0 10.6667V18.6667C0 21.612 2.32817 24 5.2 24H20.8C23.6718 24 26 21.612 26 18.6667V10.6667C26 7.72133 23.6718 5.33333 20.8 5.33333H19.5C19.5 2.388 17.1718 0 14.3 0H11.7ZM11.7 2.66667H14.3C15.736 2.66667 16.9 3.86 16.9 5.33333H9.1C9.1 3.86 10.264 2.66667 11.7 2.66667ZM5.2 8H20.8C22.236 8 23.4 9.19333 23.4 10.6667V11.0413L16.4531 13.416C14.5876 14.0547 11.4124 14.0547 9.54694 13.416L2.6 11.0413V10.6667C2.6 9.19333 3.76402 8 5.2 8ZM2.6 13.8333L8.73444 15.9587C11.1336 16.7787 14.8664 16.7787 17.2656 15.9587L23.4 13.8333V18.6667C23.4 20.14 22.236 21.3333 20.8 21.3333H5.2C3.76402 21.3333 2.6 20.14 2.6 18.6667V13.8333Z"
                  fill="white"
                />
              </svg>
            </div>

            <!-- Main Label -->
            <div class="nav-label-main" id="mainLabel">
              <p>Main</p>
            </div>

            <!-- Profile Label -->
            <div class="nav-label-profile" id="profileLabel">
              <p>Profile</p>
            </div>

            <!-- Calendar Label -->
            <div class="nav-label-calendar" id="calendarLabel">
              <p>Calendar</p>
            </div>
          </div>
        </div>
    </div>

    <script src="/js/URL.js"></script>
      <script src="/js/MESSAGE.js"></script>
    <script src="/js/common.js"></script>
    <script src="/js/4_calendarpage.js"></script>
  </body>
</html>
